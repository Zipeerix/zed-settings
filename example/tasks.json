[
  {
    "label": "Conan: Install",
    "reveal": "always",
    "command": "conan_install_debug",
    "args": [],
    "cwd": "$ZED_WORKTREE_ROOT",
    "tags": ["clean"]
  },
  {
    "label": "Conan: Create",
    "reveal": "always",
    "command": "conan_create_release",
    "args": [],
    "cwd": "$ZED_WORKTREE_ROOT",
    "tags": ["clean"]
  },
  {
    "label": "CMake & Conan: Clean",
    "reveal": "always",
    "command": "rm",
    "args": ["-rf", "build"],
    "cwd": "$ZED_WORKTREE_ROOT",
    "tags": ["clean"]
  },
  {
    "label": "CMake: Configure",
    "reveal": "always",
    "command": "cmake",
    "args": ["-DCMAKE_EXPORT_COMPILE_COMMANDS=ON", "--preset", "conan-debug"],
    "cwd": "$ZED_WORKTREE_ROOT",
    "tags": ["configure"]
  },
  {
    "label": "CMake: Configure and Build (Application)",
    "reveal": "always",
    "command": "zsh",
    "args": [
      "-i",
      "-c",
      "\"cmake -DCMAKE_EXPORT_COMPILE_COMMANDS=ON --preset conan-debug && cmake --build --preset conan-debug --target <MAIN TARGET HERE>\""
    ],
    "cwd": "$ZED_WORKTREE_ROOT",
    "tags": ["configure", "build"]
  },
  {
    "label": "CMake: Configure and Build (Tests)",
    "reveal": "always",
    "command": "zsh",
    "args": [
      "-i",
      "-c",
      "\"cmake -DCMAKE_EXPORT_COMPILE_COMMANDS=ON --preset conan-debug && cmake --build --preset conan-debug --target <TEST TARGET HERE>\""
    ],
    "cwd": "$ZED_WORKTREE_ROOT",
    "tags": ["configure", "build"]
  }
]
